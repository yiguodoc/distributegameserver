#todo



###目标
将做什么和怎么做区分开，按照函数式编程的理念区分功能和设计，从而使得系统的理念更清晰和简单
现在最主要的问题是：协议和相应地处理没有直接的对应，因为中间加入了使协议和处理函数衔接的部分，而这一部分应该单独实现，而不应该夹杂在对考虑协议如何处理中
非表示状态的部分不需要为空测试
###执行计划
* 将所有处理函数改为纯函数式
* 将协议与处理函数表现为一个纯数据集合 
* 整理协议，简单清晰
* 异常处理放在统一的地方，不再单独处理